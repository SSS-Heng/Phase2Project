"use strict";define(["jquery","input_ver"],function(t,o){return{check:function(){console.log("signin.js开始执行")},s_i_v:function(){var i=[!1,!1];t("input.username").blur(function(){var e,n=t("input.username").val(),s=t("input.username").nextAll("span"),r=t("input.username").parents("div.input");0==s.length&&console.log("提示信息节点获取错误"),1!=r.length&&console.log("输入框的父节点获取错误");for(var a=0;a<s.length;a++)s.eq(a).removeClass("input_error");r.removeClass("invalid"),"false"==(e=o.verify("telAndEmail",n))?i[0]=!1:"u_format_error"==e?(i[0]=!1,t("."+e).addClass("input_error"),r.addClass("invalid")):"u_format_ok"==e?i[0]=!0:(i[0]=!1,console.log('$("input.username").blur() is error,result : '+e)),i[0]&&i[1]?t(".btn.btn_primary").removeClass("disabled"):t(".btn.btn_primary").addClass("disabled")}),t("input.password").blur(function(){var e=t("input.password").val();i[1]=!!e,i[0]&&i[1]?t(".btn.btn_primary").removeClass("disabled"):t(".btn.btn_primary").addClass("disabled")})},s_v:function(){t(".checkbox").click(function(){t(".checkbox.checked").size()?t(".checkbox.checked").removeClass("checked"):t(".checkbox").addClass("checked")}),t(".submit").click(function(e){e.preventDefault();var n=t("input.username").val(),s=t("input.password").val();n||(t(".btn.btn_primary").addClass("disabled"),t(".u_required").addClass("input_error").parents("div.input").addClass("invalid")),s||(t(".btn.btn_primary").addClass("disabled"),t(".p_required").addClass("input_error").parents("div.input").addClass("invalid")),s&&n?t.ajax({type:"POST",url:"http://127.0.0.1:80/smartisan/signin.php",data:{username:n,password:s},success:function(e){var n=t.parseJSON(e);console.log(n.msg),5==n.code?t(".p_error").addClass("input_error"):6==n.code?t(".u_not_exist").addClass("input_error"):(setTimeout(function(){window.location.href="home.html"},2e3),alert("登录成功！请点击确定将自动跳转到主页!"))},error:function(e){console.log(e)}}):console.log("存在空的input，无法联网验证登录")})},end:function(){console.log("signin.js执行结束")}}});