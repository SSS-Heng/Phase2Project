"use strict";define(["jquery","input_verification"],function(t,l){return{check:function(){console.log("signin.js开始执行")},s_i_v:function(){var i=[!1,!1];t("input.username").blur(function(){var n,r=t("input.username").val(),s=t("input.username").nextAll("span"),a=t("input.username").parents("div.input");0==s.length&&console.log("提示信息节点获取错误"),1!=a.length&&console.log("输入框的父节点获取错误");for(var e=0;e<s.length;e++)s[e].removeClass("input_error");a.removeClass("invalid"),"false"==(n=l.verify("telAndEmail",r))?i[0]=!1:"u_format_error"==n?(i[0]=!1,t("."+n).addClass("input_error"),a.addClass("invalid")):"u_format_ok"==n?i[0]=!0:(i[0]=!1,console.log('$("input.username").blur() is error,result : '+n)),i[0]&&i[1]?t(".btn.btn_primary").removeClass("disabled"):t(".btn.btn_primary").addClass("disabled")}),t("input.password").blur(function(){var n=t("input.password").val();i[1]=!!n,i[0]&&i[1]?t(".btn.btn_primary").removeClass("disabled"):t(".btn.btn_primary").addClass("disabled")})},s_v:function(){t(".submit").click(function(n){n.preventDefault();var r=t("input.username").val(),s=t("input.password").val();r||(t(".btn.btn_primary").addClass("disabled"),t(".u_required").addClass("input_error").parents("div.input").addClass("invalid")),s||(t(".btn.btn_primary").addClass("disabled"),t(".p_required").addClass("input_error").parents("div.input").addClass("invalid")),s&&r?t.ajax({type:"POST",url:"127.0.0.1/smartisan/signin.php",data:{username:r,password:s},success:function(n){var r=t.parseJSON(n);console.log(r.msg),5==r.code?t(".p_error").addClass("input_error"):6==r.code?t(".u_not_exist").addClass("input_error"):alert("登录成功！")},error:function(n){console.log(n)}}):console.log("存在空的input，无法联网验证登录")})},end:function(){console.log("signin.js执行结束")}}});