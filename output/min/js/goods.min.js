"use strict";define(["small_cart","jquery","jquery_cookie"],function(e,l){return{check:function(){console.log("goods.js开始执行"),console.log(l?"ok":"error")},n_i:function(){l.ajax({url:"../json/second_nav.json",success:function(n){for(var a,s=n,i="",o=0;o<s.length;o++){i+='\n          <li>\n            <a href="'+s[o].url+'" class="title">'+s[o].name+'</a>\n              <div class="sub_panel_wrapper">\n                <div class="nav_sub_container">\n          ',"category"==(a=s[o].type)?i+='<ul class="category_wrapper">':"goods"==a?i+='<ul class="goods_container">':console.log("警告，二级导航目录创建错误，错误点：<ul class='category/goods_container'>");for(var e=s[o].list,t=0;t<e.length;t++){if(i+='<li class="item">',"category"==a){var r=e[t].sub;i+='\n              <div class="container">\n                <div class="title">\n                  <a href="#">'+e[t].title+"</a>\n                </div>\n              ",8<r.length?i+='<ul class="category_container" style="width:606px">':4<r.length?i+='<ul class="category_container" style="width:404px">':i+='<ul class="category_container" style="width:202px">';for(var c=0;c<r.length;c++)i+='\n                <li class="category_item">\n                  <a href="#" class="link" id="'+r[c].id+'">\n                    <img src="'+r[c].image+'" class="picture">\n                    <span class="sub_title">'+r[c].name+"</span>\n                  </a>\n                </li>\n                ";i+="</ul></div>"}else"goods"==a?i+='\n              <a href="#" class="link" id="'+e[t].spu+'">\n                <img src="'+e[t].ali_image+'" class="picture">\n                <p class="name">'+e[t].spu_name+'</p>\n                <p class="price">'+e[t].sell_price+"</p>\n              </a>\n              ":console.log("警告，二级导航内容创建错误，错误点：<li class='item'></li>");i+="</li>"}i+="</ul></div></div></li>"}l(""+i).prependTo(l(".nav_insert"))},error:function(n){console.log(n)}})},n_s:function(){l(window).scroll(function(){var n=l(document).scrollTop();45<=n?(l(".search_wrapper").css("display","none"),l(".nav_aside").css("display","block")):n<45?(l(".search_wrapper").css("display","block"),l(".nav_aside").css("display","none")):console.log("网页卷动时二级导航动画出错")})},g_i:function(){l.ajax({url:"../json/hot_goods.json",success:function(n){var a=n.data.list,s="";s+="\n        \x3c!--伪结构插入点，警告：样式中使用了:nth-child选择,该行不能删除--\x3e\n        ";for(var i=0;i<8;i++){var o=a[i+9];s+='\n          <li class="recommend_item_four">\n            <div class="product_box_item cart_box" data-shopId="'+o.id+'">\n              <div>\n                <div class="item_img"> \n                  <img src="'+o.shop_info.ali_image+'" style="opacity: 1;"> \n                </div>\n                <h4>'+o.shop_info.title+"</h4>\n                <h6>"+o.shop_info.sub_title+'</h6>\n              </div>\n              <div class="params_colors">\x3c!--默认不插入任何节点--\x3e\n              </div>\n              <div class="item_price clearfix"> \n                <span>\n                  <i>¥</i>\n                  <span>'+o.price+'</span>\n                </span> \n              </div>\n              <div class="button_container">\n                <a href="https://www.smartisan.com/item/'+o.id+'">\n                  <button class="normal">查看详情</button>\n                </a>\n                <button class="confirm" data-id="'+o.id+'">加入购物车</button>\n              </div>\n            </div>\n          </li>\n          '}l(".hot_good_insert").html(s)},error:function(n){console.log(n)}})},a_g:function(){l(".hot_good_insert").on("click","button.confirm",function(){var n=Number(l(this).attr("data-id"));if(!l.cookie("goods"))l.cookie("goods",JSON.stringify([{id:n,num:1}]),{expires:7,path:"/"});else{for(var a=JSON.parse(l.cookie("goods")),s=!1,i=0;i<a.length;i++)if(a[i].id==n){s=!0;break}s?a[i].num++:a.push({id:n,num:1}),l.cookie("goods",JSON.stringify(a),{expires:7,path:"/"})}e.s_c()})},m_g:function(){l(".small").mousemove(function(n){var a=n.clientX-l(this).offset().left-100,s=n.clientY-l(this).offset().top-100,a=Math.max(0,a);a=Math.min(200,a),s=Math.max(0,s),s=Math.min(200,s),l(".mark").css({left:a,top:s}),l(".big img").css({left:-2*a,top:-2*s})})},behavior:function(){l("span.down").click(function(){var n,a=Number(l("span.num").text());a<=1?l("span.down").addClass("disabled"):(a--,l("span.num").text(a),l(".fix_bar_wrapper").attr("data-num",""+a),l(".bar_device_info").find("span.title").text("Smartisan 颈挂蓝牙耳机 × "+a+" "),n=Number(l(".fix_bar_wrapper").attr("data-price"))*a,l(".bar_price").find("span").text(n+".00"))}),l("span.up").click(function(){var n=Number(l("span.num").text());l("span.down").removeClass("disabled"),n++,l("span.num").text(n),l(".fix_bar_wrapper").attr("data-num",""+n),l(".bar_device_info").find("span.title").text("Smartisan 颈挂蓝牙耳机 × "+n+" ");var a=Number(l(".fix_bar_wrapper").attr("data-price"))*n;l(".bar_price").find("span").text(a+".00")}),l(".add_cart").click(function(){var n=l(".fix_bar_wrapper").attr("data-id"),a=l(".fix_bar_wrapper").attr("data-num"),a=Number(a),n=Number(n);if(!l.cookie("goods"))l.cookie("goods",JSON.stringify([{id:n,num:a}]),{expires:7,path:"/"});else{for(var s=JSON.parse(l.cookie("goods")),i=!1,o=0;o<s.length;o++)if(s[o].id==n){i=!0;break}i?s[o].num+=a:s.push({id:n,num:a}),console.log(i),l.cookie("goods",JSON.stringify(s),{expires:7,path:"/"})}e.s_c()})},end:function(){console.log("goods.js执行结束")}}});